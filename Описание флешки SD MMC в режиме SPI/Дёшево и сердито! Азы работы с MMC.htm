
<!-- saved from url=(0049)http://www.gaw.ru/html.cgi/txt/app/memory/mmc.htm -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<!--meta http-equiv="Content-Type" content="text/html; charset=windows-1251"-->
<title>Дёшево и сердито! Азы работы с MMC</title>
<meta name="description" content="Справочные данные по электронным компонентам">
 

<meta http-equiv="pragma" content="no-cache">
<meta name="generator" content="WebFX.jwdx.com MetaTagGen">
<meta name="copyright" content="Рынок Микроэлектроники">
<meta name="language" content="Russian">
<meta name="MSSmartTagsPreventParsing" content="TRUE">
<meta name="distribution" content="Global">
<meta name="rating" content="General">
<meta name="expires" content="Never">
<meta name="robots" content="Index, Follow">
<meta name="description" content="Справочные данные - электронные компоненты, описания микросхем, жк дисплеи, микроэлектроника">
<link rel="shortcut icon" href="http://www.gaw.ru/favicon.ico">
<style type="text/css">
<!--A:link,
A:visited { text-decoration: none; }-->
</style>
<link rel="stylesheet" type="text/css" href="./Дёшево и сердито! Азы работы с MMC_files/t.css">
<script src="chrome-extension://lifbcibllhkdhoafpjfnlhfpfgnpldfl/document_iterator.js"></script><script src="chrome-extension://lifbcibllhkdhoafpjfnlhfpfgnpldfl/find_proxy.js"></script><script src="chrome-extension://lifbcibllhkdhoafpjfnlhfpfgnpldfl/get_html_text.js"></script><script src="chrome-extension://lifbcibllhkdhoafpjfnlhfpfgnpldfl/global_constants.js"></script><script src="chrome-extension://lifbcibllhkdhoafpjfnlhfpfgnpldfl/name_injection_builder.js"></script><script src="chrome-extension://lifbcibllhkdhoafpjfnlhfpfgnpldfl/number_injection_builder.js"></script><script src="chrome-extension://lifbcibllhkdhoafpjfnlhfpfgnpldfl/string_finder.js"></script><script src="chrome-extension://lifbcibllhkdhoafpjfnlhfpfgnpldfl/change_sink.js"></script><meta name="document_iterator.js"><meta name="find_proxy.js"><meta name="get_html_text.js"><meta name="global_constants.js"><meta name="name_injection_builder.js"><meta name="number_injection_builder.js"><meta name="string_finder.js"><meta name="change_sink.js"><script type="text/javascript" src="./Дёшево и сердито! Азы работы с MMC_files/5l2w3dRXbWS40000ZhrrqVS4XPls0PQfrGRcaRcpD9m1aokam20008y8hlKPQ2t7VUQy17W5=AMLvL9K2cm5kGsv3YQus5nMOH9Aehl9zfQNdI06c3PsIEo2FkLrtqmoVjpk610MPCw2GWIcla9yafuv"></script><style charset="utf-8" type="text/css" id="AEEB20B6-2CBF-4F04-8C76-4B754DB03E30">SPAN.skype_pnh_container SPAN.skype_pnh_mark{  display:none !important;}@media screen{SPAN.skype_pnh_print_container_1333597958{  display:none !important;}SPAN.skype_pnh_container, SPAN.skype_pnh_container *{background-attachment: scroll !important;background-color: transparent !important;background-image: none !important;background-position: 0px 0px ! important;background-repeat: no-repeat !important;border: 0px none !important;border-color: #000000 !important;border-style: none !important;border-width: 0 !important;border-left: 0 none #000000 !important;border-top: 0 none #000000 !important;border-right: 0 none #000000 !important;border-bottom: 0 none #000000 !important;border-left-color: #000000 !important;border-left-style: none !important;border-left-width: 0 !important;border-top-color: #000000 !important;border-top-style: none !important;border-top-width: 0 !important;border-right-color: #000000 !important;border-right-style: none !important;border-right-width: 0 !important;border-bottom-color: #000000 !important;border-bottom-style: none !important;border-bottom-width: 0 !important;border-collapse: separate !important;bottom: auto !important;clear: none !important;clip: auto !important;cursor: pointer !important;direction: ltr !important;display: inline !important;float: none !important;font-style: normal !important;left: auto !important;letter-spacing: 0 !important;list-style-image: none !important;list-style-position: outside !important;list-style-type: disc !important;overflow: hidden !important;overflow-x: hidden !important;overflow-y: hidden !important;padding: 0px 0px 0px 0px !important;padding-left: 0px !important;padding-top: 0px !important;padding-right: 0px !important;padding-bottom: 0px !important;page-break-after: auto !important;page-break-before: auto !important;page-break-inside: auto !important;position: static !important;right: auto !important;table-layout: auto !important;text-align: left !important;text-decoration: none !important;text-indent: 0px !important;text-transform: none !important;top: auto !important;voice-family: inherit !important;white-space: nowrap !important;word-spacing: normal !important;word-wrap: nowrap !important;z-index: 0 !important;  color: #49535A !important;  font-family: Tahoma, Arial, Helvetica, sans-serif !important;  font-size: 11px !important;  font-weight: bold !important;  height: 14px !important;  line-height: 14px !important;  margin-left: 0px !important;  margin-top: 0px !important;  margin-right: 0px !important;  margin-bottom: 0px !important;  vertical-align: baseline !important;  width: auto !important;}SPAN.skype_pnh_container SPAN.skype_pnh_highlighting_active_fax SPAN.skype_pnh_right_span, SPAN.skype_pnh_container SPAN.skype_pnh_highlighting_inactive_fax SPAN.skype_pnh_right_span{  background-position: -92px 0px !important;}SPAN.skype_pnh_container SPAN.skype_pnh_highlighting_inactive_free SPAN.skype_pnh_dropart_flag_span{  background-position: 0px 1px !important;}SPAN.skype_pnh_container SPAN.skype_pnh_highlighting_inactive_free SPAN.skype_pnh_textarea_span{  background-position: -90px 0px !important;}SPAN.skype_pnh_container SPAN.skype_pnh_highlighting_inactive_free SPAN.skype_pnh_text_span{  visibility: hidden !important;}SPAN.skype_pnh_container SPAN.skype_pnh_highlighting_active_free SPAN.skype_pnh_dropart_flag_span{  background-position: 0px 1px !important;}SPAN.skype_pnh_container SPAN.skype_pnh_highlighting_active_free SPAN.skype_pnh_textarea_span{  background-position: -160px 0px !important;}SPAN.skype_pnh_container SPAN.skype_pnh_highlighting_active_free SPAN.skype_pnh_text_span{  background-position: -160px 0px !important;  color: #FFFFFF !important;}SPAN.skype_pnh_container SPAN.skype_pnh_left_span{  background-position: 0px 0px !important;  width: 6px !important;}SPAN.skype_pnh_container SPAN.skype_pnh_dropart_span{  background-position: -11px 0px !important;  width: 27px !important;}SPAN.skype_pnh_container SPAN.skype_pnh_dropart_wo_arrow_span{  background-position: -130px 0px !important;  width: 18px !important;}SPAN.skype_pnh_container SPAN.skype_pnh_dropart_flag_span{  background-position: 1px 1px !important;  width: 18px !important;}SPAN.skype_pnh_container SPAN.skype_pnh_textarea_span{  background-position: -125px 0px !important;}SPAN.skype_pnh_container SPAN.skype_pnh_text_span{  padding-left: 5px !important;  background-position: -125px 0px !important;}SPAN.skype_pnh_container SPAN.skype_pnh_right_span{  background-position: -62px 0px !important;  width: 15px !important;}}@media print{SPAN.skype_pnh_print_container_1333597958{}SPAN.skype_pnh_container{    display:none !important;}}@media screen{SPAN.skype_pnh_container SPAN.skype_pnh_highlighting_inactive_common *{  background-image:url('chrome-extension://lifbcibllhkdhoafpjfnlhfpfgnpldfl/numbers_common_inactive_icon_set.gif') !important;}SPAN.skype_pnh_container SPAN.skype_pnh_highlighting_active_common *{  background-image:url('chrome-extension://lifbcibllhkdhoafpjfnlhfpfgnpldfl/numbers_common_active_icon_set.gif') !important;}SPAN.skype_pnh_container SPAN.skype_pnh_highlighting_inactive_fax *{  background-image:url('chrome-extension://lifbcibllhkdhoafpjfnlhfpfgnpldfl/numbers_common_inactive_icon_set.gif') !important;}SPAN.skype_pnh_container SPAN.skype_pnh_highlighting_active_fax *{  background-image:url('chrome-extension://lifbcibllhkdhoafpjfnlhfpfgnpldfl/numbers_common_active_icon_set.gif') !important;}SPAN.skype_pnh_container SPAN.skype_pnh_highlighting_inactive_free *{  background-image:url('chrome-extension://lifbcibllhkdhoafpjfnlhfpfgnpldfl/numbers_free_icon_set.gif') !important;}SPAN.skype_pnh_container SPAN.skype_pnh_highlighting_active_free *{  background-image:url('chrome-extension://lifbcibllhkdhoafpjfnlhfpfgnpldfl/numbers_free_icon_set.gif') !important;}SPAN.skype_pnh_container SPAN.skype_pnh_dropart_flag_span{  background-image: url('chrome-extension://lifbcibllhkdhoafpjfnlhfpfgnpldfl/flags.gif') !important;}}</style></head>

<body bgcolor="FFFFFF" text="000000" vlink="0E50CB" topmargin="0" leftmargin="0" marginheight="0" marginwidth="0" link="0E50CB">
<a name="#top">

<!-- Yandex.Metrika -->
<script src="./Дёшево и сердито! Азы работы с MMC_files/watch.js" type="text/javascript"></script>
<div style="display:none;"><script type="text/javascript">
try { var yaCounter1140336 = new Ya.Metrika(1140336); } catch(e){}
</script></div>
<noscript>&lt;div style="position:absolute"&gt;&lt;img src="//mc.yandex.ru/watch/1140336" alt="" /&gt;&lt;/div&gt;</noscript>
<!-- /Yandex.Metrika -->

<!--LiveInternet counter--><script language="JavaScript"><!--
document.write('<img src="http://counter.yadro.ru/hit?r'+
escape(document.referrer)+((typeof(screen)=='undefined')?'':
';s'+screen.width+'*'+screen.height+'*'+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+';u'+escape(document.URL)+
';i'+escape('Жж'+document.title.substring(0,80))+';'+Math.random()+
'" width=1 height=1 alt="">')//-->
</script><img src="./Дёшево и сердито! Азы работы с MMC_files/hit" width="1" height="1" alt=""><!--/LiveInternet-->

<!-- table align="center" cellspacing="0" cellpadding="0" border="0" width="984">
<tr>
	<td>
    <form method="get" ACTION="http://www.gaw.ru/html.cgi/look.cgi">
	<nobr>&nbsp;&nbsp;&nbsp;<a href="http://www.gaw.ru/html.cgi/look_ext.cgi"><font class="search2">Поиск по сайту:</font></a>&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;<input NAME="for" size="12">
    &nbsp;&nbsp;&nbsp;<input type="Radio" name="seck" value="html" checked><font class="search">HTML</font>
    &nbsp;&nbsp;&nbsp;<input type="Radio" name="seck" value="pdf"><font class="search">PDF</font>
    &nbsp;&nbsp;&nbsp;<input type="image" src="/images/ds/go_s.gif" border=0 alt="Найти!" width="26" height="24"><br>
    &nbsp;&nbsp;&nbsp;<a href="http://www.gaw.ru/html.cgi/look_ext.cgi"><font class="search2">Расширенный поиск</font></a>
	</form>
	</td>
		  <td valign="top" width="700" align="right">
<iframe src="http://catalog.gaw.ru/search_gaw_ru.html" frameborder="0" vspace="0" hspace="0" width="100%" height="80px" scrolling="no"></iframe>
		  </td>
</tr>
</table -->


	  <table align="center" cellspacing="0" cellpadding="0" border="0" width="984">
	    <tbody><tr>
		  <td height="40" nowrap="">&nbsp;&nbsp;&nbsp;</td>
		  <td align="right" valign="top" width="200">
		  <form method="get" action="http://www.gaw.ru/html.cgi/look.cgi">
		  <table border="0" cellspacing="0" cellpadding="0">
		   <tbody><tr>
		   <td>
		   <img src="./Дёшево и сердито! Азы работы с MMC_files/serchl.jpg" width="9" height="39" border="0" alt="">
		   </td>
		    <td background="./Дёшево и сердито! Азы работы с MMC_files/serchbg.jpg" width="226">
		 	 <div id="inputs"><input type="text" name="for" value="Строка поиска" onfocus="javascript: if(this.value == &#39;Строка поиска&#39;) this.value = &#39;&#39;;" onblur="javascript: if(this.value == &#39;&#39;) { this.value = &#39;Строка поиска&#39;;}" id=" searchText">
			 </div>
		   </td>
		    <td>
		   <img src="./Дёшево и сердито! Азы работы с MMC_files/serchr.jpg" width="9" height="39" border="0" alt="">
		   </td>
		   </tr>
		   <tr>
		   <td colspan="3"><input type="Radio" name="seck" value="html" checked="">
		   <a id="onluname">В HTML</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		   <input type="Radio" name="seck" value="pdf">
		   <a id="onluname">В PDF</a>
		   </td>
		   </tr>
		  </tbody></table>

		  </form></td>
		<td valign="top"> 
	 	
		 <!-- input type="image" src="/images/ds/go_s.gif" border="0" alt="!" width="26" height="24" -->
		 <table border="0" cellspacing="0" cellpadding="0">
		 <tbody><tr>
		   <td><img src="./Дёшево и сердито! Азы работы с MMC_files/topbutleft.jpg" width="22" height="41" border="0" alt=""></td>
		   <td background="./Дёшево и сердито! Азы работы с MMC_files/topbutbg.jpg"><div id="tops"><input value="Найти" class="buttons" type="Submit"></div></td>
		   <td><img src="./Дёшево и сердито! Азы работы с MMC_files/topbutright.jpg" width="9" height="41" border="0" alt=""></td>
		 </tr>
		 </tbody></table>
		 
		  </td>
		  <td valign="top">
<iframe src="./Дёшево и сердито! Азы работы с MMC_files/search_gaw_ru.htm" frameborder="0" vspace="0" hspace="0" width="100%" height="80px" scrolling="no"></iframe>
		  </td>
		</tr>
	  </tbody></table>


<table align="center" cellspacing="0" cellpadding="0" border="0" width="984">
<tbody><tr>
    <td><a href="http://www.gaw.ru/"><img src="./Дёшево и сердито! Азы работы с MMC_files/logo.gif" width="468" height="60" alt="микроэлектроника, микросхема, микроконтроллер, память, msp430, MSP430, Atmel, Maxim, LCD, hd44780, t6963, sed1335, SED1335, mega128, avr, mega128" title="микроэлектроника, микросхема, микроконтроллер, память, msp430, MSP430, Atmel, Maxim, LCD, hd44780, t6963, sed1335, SED1335, mega128, avr, mega128" border="0"></a></td>
    <td width="5">&nbsp;</td>
    <td align="right">
	<noindex>
<iframe id="aefd403c" name="aefd403c" src="./Дёшево и сердито! Азы работы с MMC_files/adframe.htm" framespacing="0" frameborder="no" scrolling="no" width="468" height="60">&lt;a href='http://a.efind.ru/adclick.php?n=aefd403c' target='_blank'&gt;&lt;img src='http://a.efind.ru/adview.php?what=zone:31&amp;amp;n=aefd403c' border='0' alt=''&gt;&lt;/a&gt;</iframe>
	</noindex>
	</td>
</tr>
</tbody></table>
<table align="center" cellspacing="0" cellpadding="0" border="0" width="984">
<tbody><tr>
    <td width="140" valign="middle"><form>
      <input type="hidden" name="Choose WEB-site" value=""><select name="Jump" onchange="top.location.href = this.options[this.selectedIndex].value;" class="button">
        <option selected="" value="#">Разделы сервера</option>
        <option value="/">Главная страница</option>
        <option value="/html.cgi/txt/doc/index.htm">Документация</option>
        <option value="/html.cgi/txt/ic/start.htm">Микросхемы</option>
        <option value="/html.cgi/txt/lcd/index.htm">ЖК-индикаторы</option>
        <option value="/html.cgi/txt/soft/index.htm">Программы</option>
        <option value="/html.cgi/txt/interface/index.htm">Интерфейсы</option>
        <option value="/html.cgi/txt/el_mech/index.htm">Электромеханика</option>
        <option value="/html.cgi/txt/app/index.htm">Применения</option>
        <option value="/html.cgi/txt/publ/index.htm">Статьи</option>
        <option value="/html.cgi/txt/sch/index.htm">Схемы</option>
		<option value="/map.htm">-------------------</option>
		<option value="http://catalog.gaw.ru">Дилеры и фирмы</option>
		<option value="http://www.compitech.ru">CompiTech</option>
		<option value="http://www.eust.ru">Блог</option>
		<option value="http://forum.gaw.ru">Форум</option>
      </select>
</form>
	</td>	
    <td>&nbsp;</td>
    <td colspan="8" align="left" valign="middle">
<a href="http://www.gaw.ru/" class="top1">Главная страница</a> &gt; <a href="http://www.gaw.ru/html.cgi/txt/app/index.htm" class="top1">Применения</a>
	</td>
</tr></tbody></table>

<table align="center" cellspacing="0" cellpadding="5" border="0" width="984">
<tbody><tr>
    <td>
<br>

<table width="800" cellspacing="2" cellpadding="2" border="0">
<tbody><tr>
    <td>


<script type="text/javascript"><!--


// Размер шрифтов
var yandex_ad_fontSize = 1;

// Настройки объявлений Директа
var yandex_direct_showType = 1;
var yandex_direct_fontColor = '000000';
var yandex_direct_BorderColor = 'FFFFFF';
var yandex_direct_BgColor = 'FFFFFF';
var yandex_direct_headerBgColor = 'FFFFFF';
var yandex_direct_titleColor = '093cbc';
var yandex_direct_siteurlColor = '000000';
var yandex_direct_linkColor = 'c0c0c0';
function yandex_direct_print(){ }

var yandex_r = Math.round(Math.random() * 100000);
document.write('<sc'+'ript type="text/javascript" src="http://an.yandex.ru/code/8043?rnd=' + yandex_r + '&direct-style=1&direct-limit=4&market-limit=0"></'+'sc'+'ript>');


//--></script><script type="text/javascript" src="./Дёшево и сердито! Азы работы с MMC_files/8043"></script><script type="text/javascript" src="./Дёшево и сердито! Азы работы с MMC_files/context.js"></script><link rel="stylesheet" type="text/css" href="./Дёшево и сердито! Азы работы с MMC_files/context_r512.css"><script type="text/javascript" src="./Дёшево и сердито! Азы работы с MMC_files/context_static_r550.js" yandex_load_check="yes"></script>

<!-- Вставьте эту строчку туда, где планируется показывать рекламный блок Яндекс.Директа -->
<script type="text/javascript">yandex_direct_print()</script><script type="text/javascript" src="./Дёшево и сердито! Азы работы с MMC_files/8043(1)"></script><style type="text/css">#y5_direct1 .y5_item {background-color: #FFFFFF !important;} #y5_direct1 .y5_item {border-color: #FFFFFF !important; border-style: solid !important;} #y5_direct1 .y5_bg {background-color: #FFFFFF !important;} #y5_direct1 .y5_ad div a {color: #093cbc !important;} #y5_direct1 .y5_ad div {color: #000000 !important;} #y5_direct1 .y5_ad span, #y5_direct1 .y5_ad span a {color: #000000 !important;} #y5_direct1 .y5_all a, #y5_direct1 .y5_how a {color: #c0c0c0 !important;}  #y5_direct1 .y5_icon em {background-color: #000000 !important;} #y5_direct1 {font-size: 1em !important;} </style><div id="y5_direct1" class="y5 y5_nf y5_flat snap_noshots"><div class="y5_ba y5_ads4 y5_no_warnings y5_title_normal y5_title_130 "><div class="y5_h"><div class="y5_all"><span><a class="snap_noshot" href="http://direct.yandex.ru/search?from=http://www.gaw.ru/html.cgi/txt/app/memory/mmc.htm&ref-page=8043" target="_blank">Все объявления</a></span></div><div class="y5_ya"><span class="y5_black"><em>Я</em>ндекс</span><span class="y5_black y5_bg"><a class="snap_noshots" href="http://direct.yandex.ru/?partner" target="_blank">Директ</a></span></div><div class="y5_how"><span><a target="_blank" href="http://partner.yandex.ru/?from=rsy">Стать партнёром</a></span></div></div><ul class="y5_ads"><li class="y5_item"><div class="y5_ad"><div class="ad-link"><a class="snap_noshot" href="http://an.yandex.ru/count/5l2w3i6XZra40000ZhrrqVS4XPls0PK2cm5kGoQ8hmXru8ckDXSLc4ITaZiWbgdL1kQIgAxoVQODYgxN12Ug0QMbvqW1aRcpD9m1ZxbTTzCCdxSxXWG5aokPCqACa9yae921AQ-GdoIdZcweiK1PSmUam20008y8hlKPQ2t7VUQy17uE?test-tag=21070342" target="_blank">Купить Земельный Участок</a></div><div class="ad-text">Покупай лучшую недвижимость за те же деньги. Частные объявления на Slando.</div> <span class="url">nedvizhimost.slando.kazan<wbr>.ru&nbsp;&nbsp;·&nbsp; Казань</span></div></li><li class="y5_item"><div class="y5_ad"><div class="ad-link"><a class="snap_noshot" href="http://an.yandex.ru/count/5l2w3hT9-Xq40000ZhrrqVS4XPls0PK2cm5kGoOoYBpxJN01YQ9xpHgOYHoTa4NIbgdL1kQIf5htVgOMYgGIsmUg0QMOFwAHkRCqd06FlEBstGMVi6O_h0IJAvapGeoGLLgWa3TVhv1LMgUADgYnG5bp1wJ08000ZmYkzHbeBSTzvhm4U0y0?test-tag=21070342" target="_blank">Скутеры на Avito.ru!</a></div><div class="ad-text">Скутеры новые и б. у. Покупка и продажа по выгодной цене!</div> <span class="url">www.avito.ru</span></div></li><li class="y5_item"><div class="y5_ad"><div class="ad-link"><a class="snap_noshot" href="http://an.yandex.ru/count/5l2w3lGBPuS40000ZhrrqVS4XPls0PK2cm5kGoOpYB1H4e01YPJFWPX4dPMN4fQfrGRcaglOWpAc5ugZ170PgW6be_KJ0P6vipIS0O-wqap11P-xjCVB0PChcJD2ZA3CLG6We3Pk0Q-Wp5K1fu0LgB50MNC7fC0W002F2Axr6MWjnttcl0Hw3m00?test-tag=21070342" target="_blank">Продажа!Торговое помещение-1335м2</a></div><div class="ad-text">ЮВАО, ул.Люблинская, все коммуникации, парковка, витрина, 1-я линия домов.</div> <span class="url">cre.miel.ru</span></div></li><li class="y5_item"><div class="y5_ad"><div class="ad-link"><a class="snap_noshot" href="http://an.yandex.ru/count/5l2w3fDpQZ840000ZhrrqVS4XPls0PK2cm5kGoOqYBPb1v04YQArCb-OYHoTeD4j19QfrGRcagosj12cI8giboS7gW6bcUsIaRcpD9m1Zxc0T3m2dxNbTpWCaokPCqACa8WJe93KCA-GY1EdXageiK1PSmUam20008y8hlKPQ2t7VUQy17aF?test-tag=21070342" target="_blank">Квадроциклы</a></div><div class="ad-text">Продажа и Сервис Квадроциклов! Гарантийное и постгарантийное обслуживание.</div> <span class="url"><ins class="y5_icon"><em style="left:8px!important;top:3px!important;width:3px!important"></em><em style="left:7px!important;top:4px!important;width:5px!important"></em><em style="left:6px!important;top:5px!important;width:5px!important"></em><em style="left:12px!important;top:5px!important;width:1px!important"></em><em style="left:5px!important;top:6px!important;width:3px!important"></em><em style="left:9px!important;top:6px!important;width:1px!important"></em><em style="left:11px!important;top:6px!important;width:1px!important"></em><em style="left:4px!important;top:7px!important;width:3px!important"></em><em style="left:10px!important;top:7px!important;width:1px!important"></em><em style="left:3px!important;top:8px!important;width:3px!important"></em><em style="left:2px!important;top:9px!important;width:3px!important"></em><em style="left:2px!important;top:10px!important;width:4px!important"></em><em style="left:2px!important;top:11px!important;width:3px!important"></em><em style="left:6px!important;top:11px!important;width:1px!important"></em><em style="left:3px!important;top:12px!important;width:1px!important"></em><em style="left:5px!important;top:12px!important;width:1px!important"></em><em style="left:4px!important;top:13px!important;width:1px!important"></em></ins><a class="snap_noshot" href="http://an.yandex.ru/count/5l2w3W0Um3G40000ZhrrqVS4XPls0PK2cm5kGoOqYBPb1v04YQArCb-OYHoTeD4j19QfrGRcagosj12cI8giboS7gWUbcUsIaRcpD9m1Zxc0T3m2dxNbTpWCaokPCqACa8WJe93KCA-GY1EdXageiK1PSmUam20008y8hlKPQ2t7VUQy17aF?test-tag=21070342" target="_blank">Адрес и телефон</a>&nbsp;&nbsp;·&nbsp; motokam.ru</span></div></li></ul></div></div>

	</td>
</tr>
</tbody></table>

	</td>
	<td>

<table cellspacing="0" cellpadding="0" border="0" align="right">
<tbody><tr>
    <td width="5" nowrap="">
	</td>
    <td>
	<table cellspacing="1" cellpadding="0" border="0" bgcolor="#accfc7">
<tbody><tr>
    <td>
<table width="160" cellspacing="2" cellpadding="2" border="0" bgcolor="#ffffff">

  <tbody><tr>
	<td nowrap="" width="160" class="tx" valign="top">

<table width="160" cellspacing="0" cellpadding="0" border="0" bgcolor="E6E6E6">
<tbody><tr>
    <td align="center">
<br>
<iframe src="./Дёшево и сердито! Азы работы с MMC_files/gaw.htm" frameborder="0" vspace="0" hspace="0" width="140" height="200" marginwidth="0" marginheight="0" scrolling="no"></iframe>
<br><br>

	</td>
</tr>
</tbody></table>

	</td>
  </tr>
</tbody></table>
</td>
</tr>
</tbody></table>
</td>
</tr>
</tbody></table>

	</td>
</tr>
<tr>
	<td valign="top" width="100%" align="center" colspan="2">

<table cellspacing="0" cellpadding="0" border="0" align="right">
<tbody><tr>
    <td width="5" nowrap="">
	</td>
    <td>
	<table cellspacing="1" cellpadding="0" border="0" bgcolor="#accfc7">
<tbody><tr>
    <td>
<table width="160" cellspacing="2" cellpadding="2" border="0" bgcolor="#ffffff">

  <tbody><tr>
	<td nowrap="" width="160" class="tx" valign="top">

<table width="160" cellspacing="0" cellpadding="0" border="0" bgcolor="E6E6E6">
<tbody><tr>
    <td align="center">
	
<table align="center" width="140" height="200" cellspacing="0" cellpadding="0" border="0">

	<tbody><tr><td height="5">&nbsp;</td>

</tr><tr>
    <td align="center">
<a href="http://milandr.ru/index.php?mact=Products,cntnt01,details,0&cntnt01productid=236&cntnt01returnid=68" target="_blank"><img src="./Дёшево и сердито! Азы работы с MMC_files/avia.gif" alt="32-разрядный RISC-микроконтроллер для авиационных применений" border="0" height="200" width="140"></a>
<br><br>

<a href="http://bit.ly/ks3DZ8" target="_blank" rel="nofollow"><img src="./Дёшево и сердито! Азы работы с MMC_files/140x200_Banner_R.jpg" alt="Корпуса и шкафы для электронного оборудования" border="0" height="200" width="140"></a>

<!--
<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,0,0" width="140" height="200" id="mail" align="middle">
<param name="movie" value="http://www.gaw.ru/baner/Internet-market140x200+search_opt.swf"/>
<param name="quality" value="high"/>
<param name="bgcolor" value="#2E2F2F"/>
<embed src="http://www.gaw.ru/baner/Internet-market140x200+search_opt.swf" quality="high" bgcolor="#2E2F2F" width="140" height="200" name="mail" align="middle" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer"/>
</object>-->

<!--
<object width="140" height="200"
codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=8,0,0,0">
<param name="src" value="http://www.gaw.ru/baner/Milandr.swf" />
<embed type="application/x-shockwave-flash"
width="140" height="200" src="http://www.gaw.ru/baner/Milandr.swf"></embed>
</object>
-->

<!--
<br><br>

<a href="http://bit.ly/ks3DZ8" target="_blank"><img src="http://www.gaw.ru/baner/140x300_Mikroelektronikmarkt.jpg" width="140" height="300" alt="шкафы и корпуса" border="0"></a>
-->

</td>
</tr>
</tbody></table>


<br><br>
<script type="text/javascript"><!--
google_ad_client = "pub-4585385300578666";
google_ad_width = 120;
google_ad_height = 90;
google_ad_format = "120x90_0ads_al_s";
//2007-03-28: links
google_ad_channel = "9895613298";
google_color_border = "FFFFFF";
google_color_bg = "CCCCCC";
google_color_link = "0000FF";
google_color_text = "000000";
google_color_url = "008000";
//-->
</script>
<script type="text/javascript" src="./Дёшево и сердито! Азы работы с MMC_files/show_ads.js">
</script><ins style="display:inline-table;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:120px"><ins id="aswift_0_anchor" style="display:block;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:120px"><iframe allowtransparency="true" frameborder="0" height="90" hspace="0" marginwidth="0" marginheight="0" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){i+=&#39;.call&#39;;setTimeout(h,0)}else if(h.match){i+=&#39;.nav&#39;;w.location.replace(h)}s.log&amp;&amp;s.log.push(i)}" scrolling="no" vspace="0" width="120" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;"></iframe></ins></ins>

<br><br>
	</td>
</tr>
</tbody></table>

	</td>
  </tr>
</tbody></table>
</td>
</tr>
</tbody></table>
</td>
</tr>
</tbody></table>
<br>
<div align="left">


<!--end top-->
 
<h1 class="titl">Дёшево и сердито! Азы работы с MMC</h1>

 <p class="pe">MMC карты имеют достаточно простое управление. Память разбита на сектора по 512 байт. Карты форматируются так же, как обычные винчестеры под DOS: с 1 разделом, файловая система - FAT16. Чтение возможно как отдельными байтами, так и блоками.</p>
    <p class="pe">Напряжение питания карты должно быть в пределах +2.7В...+3.6В, скорость обмена до 20 мбит/с. При простое более 5мс карточка переводится в sleep режим с малым энергопотреблением, и выходит из него автоматически при возобновлении обмена.</p>

<p class="bl">Интерфейс карты</p>
    <p class="pe">MMC карты могут работать в двух режимах обмена - MultiMediaCard protocol и SPI protocol.Первый более скоростной, а в пользу второго говорит то, что много контроллеров имеют встроенный SPI интерфейс. Ниже приведена разводка MMC именно для работы в режиме SPI:</p>

<table align="center" cellspacing="0" cellpadding="1" border="1">
<tbody><tr class="titl">
    <td rowspan="9"><img src="./Дёшево и сердито! Азы работы с MMC_files/mmc_flash.png" width="179" height="145" alt="" border="0"></td>
    <td>PIN</td>
    <td>Имя</td>
    <td>Функция</td>
</tr>
<tr>
    <td>1</td>
    <td>xCS </td>
    <td>Выбор кристалла</td>
</tr>
<tr>
    <td>2</td>
    <td>DI  </td>
    <td>Входные данные</td>
</tr>
<tr>
    <td>3</td>
    <td>VSS  </td>
    <td>Земля</td>
</tr>
<tr>
    <td>4</td>
    <td>VDD </td>
    <td> Питание +3.3B</td>
</tr>
<tr>
    <td>5</td>
    <td>SCLK  </td>
    <td>Синхронизация</td>
</tr>
<tr>
    <td>6</td>
    <td>VSS2  </td>
    <td>Земля</td>
</tr>
<tr>
    <td>7</td>
    <td>DO  </td>
    <td>Выходные данные</td>
</tr>
</tbody></table>

<p class="pe">Cигнал выборки имеет "0" активный уровень. SPI порт в управляющем контроллере (далее МК) должен быть настроен так, чтобы активным был передний фронт SCLK:</p>

<p class="fig"><img src="./Дёшево и сердито! Азы работы с MMC_files/spi_wave.png" width="484" height="101" alt="" border="0"></p>

<p class="pe"> Сразу же напомню о том, что фактически передача байта из контроллера (DO) осуществляется параллельно с приёмом по другой линии (DI). Чтобы начать приём/передачу через SPI в PICе (в Master mode), в буффер приёмопередатчика SSPBUF нужно что-то записать, а после окончания пересылки из SSPBUF считать принятое. В простейшем случае обмен с картой имеет вид "команда - ответ":</p>

<p class="fig"><img src="./Дёшево и сердито! Азы работы с MMC_files/spi_exch1.png" width="453" height="125" alt="" border="0"></p>

<p class="pe">Обозначения:</p>
<dl>
<dd>1 клетка - 8 бит; </dd>
<dd>X - произвольно, 
</dd><dd>Z - третье состояние, 
</dd><dd>H - 0xFF, 
</dd><dd>L - 0x00; 
</dd><dd>Тр = 1<font face="Symbol">ё</font>8 байт, Тотв = 1<font face="Symbol">ё</font>many байт.
</dd></dl>
<p class="pe">Внимание! Рисунки поясняют принцип обмена, поэтому масштабы не соблюдены.</p>

    <p class="pe">Обмен начинается с того, что МК выставляет сигнал 0 на xCS. Сначала посылаем 6 байт команды - последовательно пишем в вышеуказанный SSPBUF нужные байты, не забывая перед записью очередного дожидаться окончания передачи предыдущего (бит SSPSTAT,BF). Далее нужно дождаться ответа карты: пишем в SPI байт 0xFF и по окончании каждой передачи (контролируем SSPSTAT,BF) читаем принятое в SSPBUF. Первый байт, отличный от 0xFF, будет первым байтом ответа карточки (а для рассматриваемых ниже команд ответ всегда состоит из 1 байта).</p>
   <p class="pe"> Данные, если требуется, передаются после ответа блоком заданной ранее длины:</p>
   
<p class="fig"><img src="./Дёшево и сердито! Азы работы с MMC_files/spi_exch2.png" width="550" height="125" alt="" border="0"></p>

<p class="pe">Начало блока данных "ловится" также: его первый байт отличен от 0xff (см. ниже).После окончания обмена нужно подать 1 на xCS.</p>

<p class="bl">Команды и ответы</p>
    <p class="pe"> Команда имеет длину 6 байт, передача всегда начинается со старшего бита. Пакет команды имеет следующий формат: </p>

<table align="center" cellspacing="0" cellpadding="1" border="1">
<tbody><tr align="center">
    <td>Позиция бита</td>
    <td>47</td>
    <td>46</td>
    <td>[45:40]</td>
    <td>[39:8]</td>
    <td>[7:1]</td>
    <td>0</td>
</tr>
<tr align="center">
    <td>Длина</td>
    <td>1</td>
    <td>1</td>
    <td>6</td>
    <td>32</td>
    <td>7</td>
    <td>1</td>
</tr>
<tr align="center">
    <td>Значение</td>
    <td>'0'</td>
    <td>'1'</td>
    <td>x</td>
    <td>x</td>
    <td>x</td>
    <td>'1'</td>
</tr>
<tr align="center">
    <td>Описание</td>
    <td>старт бит</td>
    <td>-</td>
    <td>номер команды </td>
    <td>аргумент</td>
    <td>CRC7</td>
    <td>стоп бит</td>
</tr>
</tbody></table>

<p class="pe">При работе MMC в режиме SPI доступно около 15 команд, позволяющих во-первых получить полную информацию о типе и текущем состоянии карты, во-вторых производить запись и чтение данных. Рассмотрим всего лишь 4 команды, с помощью которых можно лишь читать данные с MMC блоками размером 1x512 байт (мне для плеера вполне хватает): </p>
<table align="center" cellspacing="0" cellpadding="1" border="1">
<tbody><tr class="titl">
    <td>Номер комады</td>
    <td>Аргумент</td>
    <td>Описание</td>
</tr>
<tr>
    <td>CMD0</td>
    <td>нет</td>
    <td>go_idle_state Сброс</td>
</tr>
<tr>
    <td>CMD1</td>
    <td>нет</td>
    <td>send_op_cond Инициализация</td>
</tr>
<tr>
    <td>CMD16</td>
    <td>[31:0] длина блока</td>
    <td>set_blocklen установить размер блока</td>
</tr>
<tr>
    <td>CMD17</td>
    <td>[31:0] адрес блока</td>
    <td>read_single_block прочитать блок размером, указанным set_block_len</td>
</tr>
</tbody></table>

<p class="pe">Обратите внимание: все числа, аргументы и т.п. передаются начиная со старшего бита, а адрес блока - адрес первого байта блока.</p>

    <p class="pe">Ответ на любую из вышеприведённых команд состоит из одного байта, старший байт всегда равен 0. Другие биты - флаги ошибок:</p>

<p class="fig"><img src="./Дёшево и сердито! Азы работы с MMC_files/resp1.png" width="343" height="152" alt="" border="0"></p>
<ol>
<li>В спящем режиме - карта находится в спящем режиме и выполняется процесс инициализации; </li>
<li>Erase reset - стирание не выполнено, т.к операция прервана до исполнения; 
</li><li>Недопустимая команда - обнаружен недопустимый номер команды; 
</li><li>Ошибка CRC - последняя принятая команда не прошла проверку CRC; 
</li><li>Erase_seq_error - ошибка в команде стирания; 
</li><li>Ошибка адреса - блок пересекает границу физического сектора; 
</li><li>Ошибка параметра - аргумент команды вне допустимых пределов для данной карты.
</li></ol>
<p class="pe">Ошибки №2,4,5 нам встречаться не должны. Для операции чтения CMD17 считываемый блок должен быть в пределах одного физического сектора: его размер не должен превышать 512 байт, а начало и конец располагаться в одном и том же секторе. Если это не выполнено, то появится ошибка №6.</p>
    <p class="pe">Блок данных имеет длину от 4 до N+3 байт, где N - число, указанное в аргументе CMD16. Первый байт при передаче от MMC к МК равен 0xFE, далее следуют N байт запрашиваемой информации, а в конце - 2 байта CRC (их содержимое можно игнорировать, но прочесть нужно обязательно!). Если же при чтении произошёл сбой и карта не может предоставить данные, то вместо указанного блока передаётся 1 байт с флагом ошибки:</p>

<p class="fig"><img src="./Дёшево и сердито! Азы работы с MMC_files/resp2.png" width="327" height="125" alt="" border="0"></p>
<ol>
<li>Неизвестная ошибка - сбой по неизвестной причине; 
</li><li>Ошибка СС - сбой внутреннего контроллера; 
</li><li>Сбой ЕСС - алгоритм ЕСС не смог восстановить данные; 
</li><li>Выход за границу - аргумент команды вне допустимых пределов; 
</li><li>Карта блокирована - доступ не разрешён, т.к карта защищена паролем. 
</li></ol>

<p class="bl">Инициализация карты</p>
    <p class="pe">Перед работой карту необходимо правильно проинициализировать. Спустя несколько мс после подачи питания по SPI нужно отправить 0xFF 74 раза и подождать ещё 1мс. Всё это время на xCS должна быть лог. "1". Теперь карта готова к приёму команд. После включения карта находится в режиме MultimediaCard protocol. Для перевода её в режим SPI надо отправить команду Сброс (CMD0) (не забывайте про xCS). В режиме SPI проверка CRC отключена по умолчанию, поэтому содержимое поля CRC7 игнорируется. Однако для CMD0 поле CRC7 нужно указать правильно. Поскольку команда не имеет меняющихся в процессе работы аргументов, то и специально вычислять это поле не обязательно: правильная CMD0 имеет вид: 0x40, 0x0, 0x0, 0x0, 0x0, 0x95. Далее карту необходимо проинициализировать. Для этого посылаем команду CMD1 до тех пор, пока в ответе карты бит0 (в спящем режиме) не сменится с 1 на 0. Это будет означать, что карта готова к работе. Теперь можно посылать прочие команды (у нас это CMD16 и CMD17).</p>

<p class="bl">Файловая cистема</p>
    <p class="pe">Самое интересное - это работа с файловой системой. Не буду сильно распространяться, т.к. в инете итак навалом информации о том, что такое FAT16 и с чем её едят. Кратенько расскажу о том, как использовать содержимое некоторых секторов в своих личных целях.</p>
<p class="bl">Структура диска:</p> 

<table align="center" cellspacing="0" cellpadding="1" border="1">
<tbody><tr align="center">
    <td>MasterBootRecord</td>
</tr>
<tr align="center">
    <td>резервировано</td>
</tr>
<tr align="center">
    <td>PartitionBootRecord</td>
</tr>
<tr align="center">
    <td>FAT1</td>
</tr>
<tr align="center">
    <td>FAT2</td>
</tr>
<tr align="center">
    <td>Корневой каталог</td>
</tr>
<tr align="center">
    <td>кластер 002</td>
</tr>
<tr align="center">
    <td>кластер 003</td>
</tr>
<tr align="center">
    <td>***</td>
</tr>
</tbody></table>

<p class="pe">MBR находится в нулевом секторе диска, позиции остальных частей будем вычислять. Стоит отметить, что если карточка была переформатирована Windows, структура диска могла измениться: Windows стирает MBR, и в нулевом секторе сразу начинается PBR. Чтобы различить содержимое нулевого сектора нужно считать его первые неск. байт. Если байты нулевые - это MBR, иначе - PBR.
Нулевой сектор, он же Master Boot Record диска, выглядит примерно так:</p>

<table align="center" cellspacing="0" cellpadding="1" border="1">
<tbody><tr class="titl">
    <td>Позиция байта</td>
    <td>Длина (байт)</td>
    <td>Описание</td>
    <td>Содержимое</td>
</tr>
<tr>
    <td>0х0</td>
    <td>446</td>
    <td>-</td>
    <td>0x0</td>
</tr>
<tr>
    <td>0x1BE 16</td>
    <td>16</td>
    <td>описание раздела</td>
    <td>см.ниже</td>
</tr>
<tr>
    <td>0x1CE</td>
    <td>16</td>
    <td>описание раздела</td>
    <td>см.ниже</td>
</tr>
<tr>
    <td>0x1DE</td>
    <td>16</td>
    <td>описание раздела</td>
    <td>см.ниже</td>
</tr>
<tr>
    <td>0x1EE</td>
    <td>16</td>
    <td>описание раздела</td>
    <td>см.ниже</td>
</tr>
<tr>
    <td>0x1FE</td>
    <td>2</td>
    <td>подпись</td>
    <td>0x55,0xAA </td>
</tr>
</tbody></table>

<p class="pe">Нам нужно описание первого раздела (то, что по смещению 0x1BE).Что там есть:</p>
<table align="center" cellspacing="0" cellpadding="1" border="1">
<tbody><tr class="titl">
    <td>Позиция байта</td>
    <td>Длина (байт)</td>
    <td>Описание</td>
    <td>Содержимое</td>
</tr>
<tr>
    <td>0x4</td>
    <td>1</td>
    <td>тип файловой системы</td>
    <td>6=DOS 16-бит ФАТ (возм. др. варианты)</td>
</tr>
<tr>
    <td>0x8</td>
    <td>4</td>
    <td>позиция 1 сектора раздела</td>
    <td>номер сектора</td>
</tr>
<tr>
    <td>0xС</td>
    <td>2</td>
    <td>число секторов в разделе</td>
    <td>от 1 до макс. числа секторов диска</td>
</tr>
</tbody></table>

<p class="pe">Это, конечно, не всё, но этого вполне хватит. Как пример привожу то, что написано в моей карточке:</p>

<table align="center" cellspacing="2" cellpadding="2" border="0">
<tbody><tr>
    <td>Offset</td>
    <td>0</td>
    <td>1</td>
    <td>2</td>
    <td>3</td>
    <td>4</td>
    <td>5</td>
    <td>6</td>
    <td>7</td>
    <td>8</td>
    <td>9</td>
    <td>A</td>
    <td>B</td>
    <td>C</td>
    <td>D</td>
    <td>E</td>
    <td>F</td>
	<td>&nbsp;</td>
</tr>
<tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
	<td>&nbsp;</td>
</tr>
<tr>
    <td>000001B0</td>
    <td>00</td>
    <td>00</td>
    <td>00</td>
    <td>00</td>
    <td>00</td>
    <td>00</td>
    <td>00</td>
    <td>00</td>
    <td>00</td>
    <td>00</td>
    <td>00</td>
    <td>00</td>
    <td>00</td>
    <td>00</td>
    <td>00</td>
    <td>01</td>
	<td>................</td>
</tr>
<tr>
    <td>000001C0</td>
    <td>01</td>
    <td>00</td>
    <td>06</td>
    <td>07</td>
    <td>E0</td>
    <td>D3</td>
    <td>20</td>
    <td>00</td>
    <td>00</td>
	 <td>00</td>
    <td>E0</td>
    <td>D3</td>
    <td>03</td>
    <td>00</td>
    <td>00</td>
    <td>00</td>
   <td>....аУ ...аУ....</td>
</tr>
</tbody></table>

<p class="pe">Здесь позиция PBR - сектор номер 0x00000020, а число секторов 0x0003D3E0 (все длинные числа записаны с младшего байта), Offset - смещение байта от начала диска. Не стоит забывать, что физический адрес PBR равен pbr_adr = 0x00000020 * 0x200 =0x00004000 (0x200 - число байт на сектор). Идём в Partition Boot Record раздела: </p>

<table align="center" cellspacing="0" cellpadding="1" border="1">
<tbody><tr class="titl">
    <td>Позиция байта</td>
    <td>Длина (байт)</td>
    <td>Описание</td>
    <td>Содержимое</td>
</tr>
<tr>
    <td>0хD</td>
    <td>1</td>
    <td>секторов на кластер, Sectors_per_Cluster</td>
    <td>XX(1...64)</td>
</tr>
<tr>
    <td>0xE</td>
    <td>2</td>
    <td>число резервированных под PBR секторов, Rezerv</td>
    <td>x</td>
</tr>
<tr>
    <td>0x10</td>
    <td>1</td>
    <td>число таблиц FАТ, Number_of_Fat</td>
    <td>2</td>
</tr>
<tr>
    <td>0x11</td>
    <td>2</td>
    <td>число записей в корневом каталоге, Root_dir_entry</td>
    <td>512</td>
</tr>
<tr>
    <td>0x16</td>
    <td>2</td>
    <td>секторов на FАТ, Sectors_per_FAT</td>
    <td> XXX</td>
</tr>
<tr>
    <td>0x20</td>
    <td>4</td>
    <td>всего секторов</td>
    <td>XXX</td>
</tr>
</tbody></table>

<p class="pe">Опять-же здесь в помощь моя карточка: </p>
<table align="center" cellspacing="2" cellpadding="2" border="0">
<tbody><tr>
    <td>Offset</td>
    <td>0</td>
    <td>1</td>
    <td>2</td>
    <td>3</td>
    <td>4</td>
    <td>5</td>
    <td>6</td>
    <td>7</td>
    <td>8</td>
    <td>9</td>
    <td>A</td>
    <td>B</td>
    <td>C</td>
    <td>D</td>
    <td>E</td>
    <td>F</td>
	<td>&nbsp;</td>
</tr>
<tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
	<td>&nbsp;</td>
</tr>
<tr>
    <td>00004000</td>
    <td>EB</td>
    <td>00</td>
    <td>90</td>
    <td>20</td>
    <td>20</td>
    <td>20</td>
    <td>20</td>
    <td>20</td>
    <td>20</td>
    <td>20</td>
    <td>20</td>
	<td>20</td>
    <td>02</td>
    <td>04</td>
    <td>01</td>
    <td>00</td>
    <td>л.ђ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.....</td>
</tr>
<tr>
    <td>00004010</td>
    <td>02</td>
    <td>00</td>
    <td>02</td>
    <td>00</td>
    <td>00</td>
    <td>F8</td>
    <td>F5</td>
    <td>00</td>
    <td>20</td>
	 <td>00</td>
    <td>08</td>
    <td>00</td>
    <td>20</td>
    <td>00</td>
    <td>00</td>
    <td>00</td>
   <td> .....шх. ... ...</td>
</tr>
<tr>
    <td>00004020</td>
    <td>E0</td>
    <td>D3</td>
    <td>03</td>
    <td>00</td>
    <td>80</td>
    <td>00</td>
    <td>29</td>
    <td>A9</td>
    <td>3D</td>
	 <td>30</td>
	 <td>FC</td>
    <td>4E</td>
    <td>4F</td>
    <td>20</td>
    <td>4E</td>
    <td>41</td>
   <td>аУ..Ђ.)©=0ьNO NA </td>
</tr>
</tbody></table>

<p class="pe">Мы видим 0x04 сектора на кластер, 0x00F5 секторов на каждую FAT, под PBR отведён 1 сектор, 512 записей в корневом каталоге. Этих четырёх чисел хватит, чтобы вычислить 3 важных смещения:</p>
<ul>
<li>Fat_base = pbr_adr+0x200*Rezerv; (0x4200) </li>
<li>Root_base = Fat_base + Number_of_Fat * (Sectors_per_FAT * 0x200); (0x41600) 
</li><li>Cluster_base = Root_base + Root_dir_entry * root_entry_size - 2 * (Sectors_per_Cluster * 0x200); (0x44600) 
</li></ul>
    <p class="pe">Fat_base - адрес нулевого байта FAT, Root_base - адрес нулевого байта корневого каталога, Cluster_base - адрес нулевого (не 002!!!) кластера (нулевого кластера нет, но так удобнее, см. ниже). В скобках - числа для моей MMC, root_entry_size - размер записи в корневом каталоге, равен 32 байта.</p>
   <p class="pe"> Все смещения есть, осталось совсем немного. Разберёмся с FAT. Во первых всё пространство диска (после Root Dir) поделено на т.н. кластеры по "Sectors_per_Cluster" секторов в каждом. Во вторых 2 копии FAT идентичны, поэтому будем работать с первой. А FAT состоит из последовательности 2-х байтных слов (МЛАДШИЙ байт впереди). N-ое слово соответствует N-ому кластеру (N&gt;1), и может содержать следующую информацию: </p>
<table align="center" cellspacing="0" cellpadding="1" border="1">
<tbody><tr class="titl">
    <td>Число  </td>
    <td>Значение</td>
</tr>
<tr>
    <td>0002-FFEF  </td>
    <td>номер следующего кластера в цепочке</td>
</tr>
<tr>
    <td>FFF7  </td>
    <td>это дефектный кластер</td>
</tr>
<tr>
    <td>FFF8-FFFF </td>
    <td>это последний кластер цепочки </td>
</tr>
<tr>
    <td>0000,0001,FFF0-FFF6 </td>
    <td>резервировано (и нам не интересно) </td>
</tr>
</tbody></table>

<p class="pe">Исходя из разбиения диска на кластеры файл, будь он больше размера одного кластера, естественно содержит их несколько штук. Последовательность номеров кластеров, в которых записан файл, образует цепочку кластеров. Цепочка строится так: номер первого читается из записи в каталоге; в соответствующем слове FAT при этом указан следующий кластер. В слове для следующего - номер третьего и т.д. пока не достигается конец цепочки. </p>
     <p class="pe">Маленький организационный момент: первые 4 байта FAT - обязательная подпись, означает, что это начало FAT. Поэтому Нет нулевого и первого слова, Нет нулевого и первого кластеров, сразу за RootDir сидит кластер номер 0002. </p>
И снова от теории к практике - придуманное мной для примера начало FAT: 
<table align="center" cellspacing="2" cellpadding="2" border="0">
<tbody><tr>
    <td>Offset</td>
    <td>0</td>
    <td>1</td>
    <td>2</td>
    <td>3</td>
    <td>4</td>
    <td>5</td>
    <td>6</td>
    <td>7</td>
    <td>8</td>
    <td>9</td>
    <td>A</td>
    <td>B</td>
    <td>C</td>
    <td>D</td>
    <td>E</td>
    <td>F</td>
	<td>&nbsp;</td>
</tr>
<tr>
    <td>00004200</td>
    <td>F8</td>
    <td>FF</td>
    <td>FF</td>
    <td>FF</td>
    <td>03</td>
    <td>00</td>
    <td>05</td>
    <td>00</td>
    <td>06</td>
    <td>00</td>
    <td>04</td>
	<td>00</td>
    <td>07</td>
    <td>00</td>
    <td>FF</td>
    <td>FF</td>
    <td>шяяя..........яя</td>
</tr>
</tbody></table>

 <p class="pe">Первые 4 байта - подпись. Допустим, файл начинается со 2 кластера, Num = 2. Тогда адрес этого кластера adr = Cluster_base + Num * Sectors_per_cluster * 0x200. Кластер мы прочитали, а дальше читаем слово в FAT для этого кластера, 2 байта начиная с адреса adr = Fat_base + Num * 2 (0x4204). В нашем случае это 0003 - номер следующего кластера (см. таблицу). Расшифроывая таким образом содержимое Fat получим цепочку:</p>
<p class="pe">0002 - первый,0003,0005,0004,0006,0007 - последний.</p>
<p class="pe">Если разобраться - достаточно просто.</p>

    <p class="pe"> Наконец заглянем в корневой каталог - там кроме имени файла, даты, времени, атрибутов, указан первый кластер файла и его размер в байтах. Каждая запись в корневом каталоге состоит из 32 байт. Нам нужно прочитать байты со смещением 0x00,0x02,0x1A-0x1B,0x1C-0x1F. Если нулевой байт не равен 0xE5, второй не равен 0x00 или 0x04, то 0x1B:0x1A - первый кластер файла, а 0x1F:0x1E:0x1D:0x1C - его размер в байтах. Пока плеер без экрана, имя файла получать не обязательно... </p>

<p class="pe">P.S.: Как выяснилось, SD карты полностью совместимы с карточками MMC, в т.ч. в режиме SPI. "Лишние" выводы в этом режиме не используются: </p>
<table align="center" cellspacing="0" cellpadding="1" border="1">
<tbody><tr class="titl">
    <td rowspan="10"><img src="./Дёшево и сердито! Азы работы с MMC_files/sd_flash.png" width="179" height="145" alt="" border="0"></td>
    <td>PIN</td>
    <td>Имя</td>
    <td>Функция</td>
</tr>
<tr>
    <td>1</td>
    <td>xCS </td>
    <td>Выбор кристалла</td>
</tr>
<tr>
    <td>2</td>
    <td>DI  </td>
    <td>Входные данные</td>
</tr>
<tr>
    <td>3</td>
    <td>VSS  </td>
    <td>Земля</td>
</tr>
<tr>
    <td>4</td>
    <td>VDD </td>
    <td> Питание +3.3B</td>
</tr>
<tr>
    <td>5</td>
    <td>SCLK  </td>
    <td>Синхронизация</td>
</tr>
<tr>
    <td>6</td>
    <td>VSS2  </td>
    <td>Земля</td>
</tr>
<tr>
    <td>7</td>
    <td>DO  </td>
    <td>Выходные данные</td>
</tr>
<tr>
    <td>8</td>
    <td>RSV  </td>
    <td>Резерв</td>
</tr>
<tr>
    <td>9</td>
    <td>RSV</td>
    <td>Резерв</td>
</tr>
</tbody></table>

<p class="pe">Единственно что стоит сделать - поставить подтягивающие сопротивления на выв. 8 и 9 (в р-не неск. деятков кОм). </p>
<p class="pe">По материалам сайта <a href="http://www.sandisk.com/" target="_blank">SanDisk</a></p>

<p align="right">Катичев А.<br><a href="http://mp3vkarmane.nm.ru/" target="_blank">mp3vkarmane.nm.ru</a></p>

<p class="sale"><a href="http://inout.ru/" class="sale">Кино афиша Москвы</a> на InOut.ru<!--end body-->

<br><br>
</p><div align="center">
<hr>
<div align="center">
<script type="text/javascript"><!--
google_ad_client = "pub-4585385300578666";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "text";
google_ad_channel ="";
google_color_border = "FFFFFF";
google_color_bg = "FFFFFF";
google_color_link = "0000FF";
google_color_url = "008000";
google_color_text = "000000";
//--></script>
<script type="text/javascript" src="./Дёшево и сердито! Азы работы с MMC_files/show_ads.js">
</script><ins style="display:inline-table;border:none;height:60px;margin:0;padding:0;position:relative;visibility:visible;width:468px"><ins id="aswift_1_anchor" style="display:block;border:none;height:60px;margin:0;padding:0;position:relative;visibility:visible;width:468px"><iframe allowtransparency="true" frameborder="0" height="60" hspace="0" marginwidth="0" marginheight="0" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){i+=&#39;.call&#39;;setTimeout(h,0)}else if(h.match){i+=&#39;.nav&#39;;w.location.replace(h)}s.log&amp;&amp;s.log.push(i)}" scrolling="no" vspace="0" width="468" id="aswift_1" name="aswift_1" style="left:0;position:absolute;top:0;"></iframe></ins></ins>
&nbsp;&nbsp;
<script type="text/javascript"><!--
google_ad_client = "pub-4585385300578666";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "text";
google_ad_channel ="";
google_color_border = "FFFFFF";
google_color_bg = "FFFFFF";
google_color_link = "0000FF";
google_color_url = "008000";
google_color_text = "000000";
//--></script>
<script type="text/javascript" src="./Дёшево и сердито! Азы работы с MMC_files/show_ads.js">
</script><ins style="display:inline-table;border:none;height:60px;margin:0;padding:0;position:relative;visibility:visible;width:468px"><ins id="aswift_2_anchor" style="display:block;border:none;height:60px;margin:0;padding:0;position:relative;visibility:visible;width:468px"><iframe allowtransparency="true" frameborder="0" height="60" hspace="0" marginwidth="0" marginheight="0" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){i+=&#39;.call&#39;;setTimeout(h,0)}else if(h.match){i+=&#39;.nav&#39;;w.location.replace(h)}s.log&amp;&amp;s.log.push(i)}" scrolling="no" vspace="0" width="468" id="aswift_2" name="aswift_2" style="left:0;position:absolute;top:0;"></iframe></ins></ins>
</div>
<hr>
<img src="./Дёшево и сердито! Азы работы с MMC_files/fon_white.gif" width="5" height="5" border="0"><br>
<a href="http://www.gaw.ru/">Главная</a> - 
<a href="http://www.gaw.ru/html.cgi/txt/ic/index.htm">Микросхемы</a> - 
<a href="http://www.gaw.ru/html.cgi/txt/doc/index.htm">DOC</a> - 
<a href="http://www.gaw.ru/html.cgi/txt/lcd/index.htm">ЖКИ</a> - 
<a href="http://www.gaw.ru/html.cgi/txt/power/index.htm">Источники питания</a> - 
<a href="http://www.gaw.ru/html.cgi/txt/el_mech/index.htm">Электромеханика</a> - 
<a href="http://www.gaw.ru/html.cgi/txt/interface/index.htm">Интерфейсы</a> - 
<a href="http://www.gaw.ru/html.cgi/txt/soft/index.htm">Программы</a> - 
<a href="http://www.gaw.ru/html.cgi/txt/app/index.htm">Применения</a> - 
<a href="http://www.gaw.ru/html.cgi/txt/publ/index.htm">Статьи</a>
</div>
<img src="./Дёшево и сердито! Азы работы с MMC_files/fon_white.gif" width="5" height="5" border="0"><br>
	</div></td>
</tr>
</tbody></table>
<br>
<table align="center" width="984" cellspacing="0" cellpadding="0" border="0" background="./Дёшево и сердито! Азы работы с MMC_files/fon_1.gif">
<tbody><tr>
	<td bgcolor="677CB4" nowrap="" height="20"><h2 class="menu">ПОИСК ПО СЕРВЕРУ</h2></td>
	<td bgcolor="FFFFFF">&nbsp;</td>
	<td bgcolor="677CB4" nowrap="" height="20"><h2 class="menu">Навигация</h2></td>
	<td bgcolor="FFFFFF">&nbsp;</td>
	<td bgcolor="677CB4" nowrap="" height="20"><h2 class="menu">СПИСКИ РАССЫЛКИ</h2></td>
</tr>
<tr>
	<td>
          <table border="0" cellspacing="0" cellpadding="0">
            <tbody><tr>
              <td colspan="2" nowrap="" height="5"></td>
            </tr>
            <tr>
              <td><form method="get" action="http://www.gaw.ru/html.cgi/look.cgi"><input name="for" size="12"></form></td>
              <td><input type="image" src="./Дёшево и сердито! Азы работы с MMC_files/go_s.gif" border="0" alt="Найти!" width="26" height="24"></td>
            </tr>
            <tr>
              <td colspan="2"><table border="0" cellspacing="0" cellpadding="0">
                <tbody><tr>
                  <td><input type="Radio" name="seck" value="html" checked=""></td>
                  <td><font class="search">HTML</font></td>
                  <td><input type="Radio" name="seck" value="pdf"></td>
                  <td><font class="search">PDF</font></td>
                </tr>
              </tbody></table>
              </td>
            </tr>
            <tr>
              <td colspan="2"><a href="http://www.gaw.ru/html.cgi/look_ext.cgi"><font class="search2">Расширенный поиск</font></a></td>
            </tr>
          </tbody></table>
        
	</td>
	<td bgcolor="FFFFFF"></td>
	<td>
	  <input type="hidden" name="Choose WEB-site" value=""><select name="Jump" onchange="top.location.href = this.options[this.selectedIndex].value;" class="button">
        <option selected="" value="#">Разделы сервера</option>
        <option value="/">Главная страница</option>
        <option value="/html.cgi/txt/doc/index.htm">Документация</option>
        <option value="/html.cgi/txt/ic/start.htm">Микросхемы</option>
        <option value="/html.cgi/txt/lcd/index.htm">ЖК-индикаторы</option>
        <option value="/html.cgi/txt/soft/index.htm">Программы</option>
        <option value="/html.cgi/txt/interface/index.htm">Интерфейсы</option>
        <option value="/html.cgi/txt/el_mech/index.htm">Электромеханика</option>
        <option value="/html.cgi/txt/app/index.htm">Применения</option>
        <option value="/html.cgi/txt/publ/index.htm">Статьи</option>
        <option value="/html.cgi/txt/sch/index.htm">Схемы</option>
		<option value="/map.htm">-------------------</option>
		<option value="http://sub.chipdoc.ru">Новости</option>
		<option value="http://catalog.gaw.ru">Дилеры и фирмы</option>
		<option value="http://shop.chipdoc.ru">Магазин</option>
		<option value="http://www.compitech.ru">CompiTech</option>
      </select>
	</td>
	<td bgcolor="FFFFFF"></td>
	<td>
<form action="http://sub.chipdoc.ru/addsub.php" method="post" name="addsub">
<input type="hidden" name="fid" value="4">
<input type="hidden" name="list" value="10">
<table cellspacing="0" cellpadding="2" border="0">
<tbody><tr>
    <td><b>Имя</b></td>
    <td><input type="text" name="uname" size="16" maxlength="50" class="win"></td>
    <td></td>
</tr>
<tr>
    <td><b><nobr>E-mail</nobr></b></td>
    <td><input type="text" name="umail" size="16" maxlength="50" class="win"></td>
    <td><input type="submit" value="Подписаться" class="button"></td>
</tr>
</tbody></table>

</form>
	
	</td>
</tr>
</tbody></table>

<img src="./Дёшево и сердито! Азы работы с MMC_files/fon_white(1).gif" width="5" height="5" border="0"><br>

<table align="center" width="984" cellspacing="0" cellpadding="0" border="0">
<tbody><tr valign="middle">
	<td width="30" align="right" height="5" bgcolor="677CB4" colspan="2">&nbsp;</td>
</tr>
<tr>
	<td>
<noindex>
<!--LiveInternet logo--><a href="http://www.liveinternet.ru/click" target="_blank"><img src="./Дёшево и сердито! Азы работы с MMC_files/logo" border="0" title="LiveInternet: показано число посетителей за сегодня" width="88" height="15"></a><!--/LiveInternet-->
</noindex>
	</td>
	<td>

	</td>
	<td align="right">
<a href="http://www.gaw.ru/about.htm" class="list2">Впервые?</a> | <a href="http://catalog.gaw.ru/index.php?page=document&id=17951" class="list2">Реклама на сайте</a> | <a href="http://www.gaw.ru/html.cgi/txt/web/index.htm" class="list2">О проекте</a> | <a href="http://www.gaw.ru/map.htm" class="list2">Карта портала</a><br>
тел: <span class="skype_pnh_print_container_1333597958">+7 (495) 514 4110</span><span class="skype_pnh_container" dir="ltr" tabindex="-1"><span class="skype_pnh_mark"> begin_of_the_skype_highlighting</span>&nbsp;<span class="skype_pnh_highlighting_inactive_common" dir="ltr" skypeaction="skype_dropdown" title="Щелкните, чтобы недорого позвонить через Skype"><span class="skype_pnh_left_span" skypeaction="skype_dropdown" title="Действия Skype">&nbsp;&nbsp;</span><span class="skype_pnh_dropart_span" skypeaction="skype_dropdown" title="Действия Skype"><span class="skype_pnh_dropart_flag_span" skypeaction="skype_dropdown" style="background-position: -4835px 1px !important; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;</span><span class="skype_pnh_textarea_span"><span class="skype_pnh_text_span">+7 (495) 514 4110</span></span><span class="skype_pnh_right_span">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span>&nbsp;<span class="skype_pnh_mark">end_of_the_skype_highlighting</span></span>. e-mail:<a href="mailto:admin@eust.ru">admin@eust.ru</a><br>
© <a href="http://www.eust.ru/">ООО Рынок Микроэлектроники</a>
	</td>
</tr><tr>
</tr></tbody></table>
<div>


<!--end bot-->
</div></a></body><span id="skype_highlighting_settings" display="none" autoextractnumbers="1"></span><object id="skype_plugin_object" location.href="http://www.gaw.ru/html.cgi/txt/app/memory/mmc.htm" location.hostname="www.gaw.ru" style="position: absolute; visibility: hidden; left: -100px; top: -100px; " width="0" height="0" type="application/x-vnd.skype.click2call.chrome.5.7.0"></object></html>